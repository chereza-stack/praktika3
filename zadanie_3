/*Задача №2. Динамический массив и сумма переставленных чисел
Необходимо объявить указатель на массив типа double, размер которого задаётся пользователем (вводится число n с клавиатуры).

Выделите память под массив размером n.
Заполните массив числами от 1 до n включительно в случайном порядке.
ВАЖНО: каждое число из диапазона [1; n] должно встретиться ровно один раз.
Найдите и выведите сумму элементов массива.
Освободите выделенную память.
Формат ввода

Одно целое число n (от 1 до 1000).

3
Формат вывода

Одно число — сумма всех элементов массива.

6
Примечания

Перестановка чисел должна быть случайной, но сумма всегда совпадает с суммой арифметической прогрессии 1 + 2 + ... + n.
Для примера выше: массив может быть [2, 1, 3], сумма равна 6.*/

#include <iostream>
using namespace std;

int main() {
    int n;
    cin >> n;

    double* arr = new double[n];
    for (int i = 0; i < n; ++i) arr[i] = i + 1;

    for (int i = 0; i < n; ++i) {
        int j = i + (i * 37 + 13) % (n - i);
        double tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }

    double sum = 0;
    for (int i = 0; i < n; ++i) sum += arr[i];

    cout << sum;

    delete[] arr;
    return 0;
}
